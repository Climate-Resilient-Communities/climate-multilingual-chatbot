INFO:     Will watch for changes in these directories: ['/Users/luis_ticas/Documents/GitHub/climate-multilingual-chatbot']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [50285] using StatReload
2025-08-18 09:23:53,398 - datasets - INFO - PyTorch version 2.6.0 available.
2025-08-18 09:23:55,194 - src.webui.api.main - INFO - âœ… Mounted Next.js static files from /Users/luis_ticas/Documents/GitHub/climate-multilingual-chatbot/src/webui/api/../app/out
INFO:     Started server process [50301]
INFO:     Waiting for application startup.
2025-08-18 09:23:55,212 - src.webui.api.main - INFO - ðŸš€ Starting Climate Chatbot API...
2025-08-18 09:23:55,212 - src.webui.api.main - INFO - Initializing pipeline components...
2025-08-18 09:23:55,289 - src.models.nova_flow - INFO - âœ“ Bedrock client initialized
2025-08-18 09:23:55,323 - src.models.cohere_flow - INFO - âœ“ Cohere client initialized
2025-08-18 09:23:55,323 - src.models.gen_response_unified - INFO - âœ“ Unified Response Generator initialized
2025-08-18 09:23:55,323 - src.models.redis_cache - INFO - Initializing Redis connection to localhost:6379 (SSL: False)
2025-08-18 09:23:55,325 - src.models.redis_cache - INFO - âœ“ Redis connection test successful to localhost
2025-08-18 09:23:55,325 - src.models.redis_cache - INFO - âœ“ Redis cache initialized for localhost
2025-08-18 09:23:55,396 - src.models.nova_flow - INFO - âœ“ Bedrock client initialized
2025-08-18 09:23:55,415 - src.models.cohere_flow - INFO - âœ“ Cohere client initialized
Fetching 30 files:   0%|          | 0/30 [00:00<?, ?it/s]Fetching 30 files: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 30/30 [00:00<00:00, 12641.06it/s]
2025-08-18 09:23:56,435 - FlagEmbedding.finetune.embedder.encoder_only.m3.runner - INFO - loading existing colbert_linear and sparse_linear---------
2025-08-18 09:23:56,439 - src.models.climate_pipeline - INFO - âœ“ Embedding model initialized with fast tokenizer
2025-08-18 09:23:56,439 - src.models.climate_pipeline - INFO - Init: embeddings model ready in 1.02s
2025-08-18 09:23:56,441 - pinecone_plugin_interface.logging - INFO - Discovering subpackages in _NamespacePath(['/Users/luis_ticas/Documents/GitHub/climate-multilingual-chatbot/.venv/lib/python3.12/site-packages/pinecone_plugins'])
2025-08-18 09:23:56,441 - pinecone_plugin_interface.logging - INFO - Looking for plugins in pinecone_plugins.assistant
2025-08-18 09:23:56,474 - pinecone_plugin_interface.logging - INFO - Looking for plugins in pinecone_plugins.inference
2025-08-18 09:23:56,484 - pinecone_plugin_interface.logging - INFO - Installing plugin assistant into Pinecone
2025-08-18 09:23:56,485 - pinecone_plugin_interface.logging - INFO - Installing plugin inference into Pinecone
2025-08-18 09:23:56,485 - src.models.climate_pipeline - INFO - Pinecone: initialized using v5 client
2025-08-18 09:23:56,753 - src.models.climate_pipeline - INFO - Init: pinecone index ready in 0.31s
2025-08-18 09:23:56,771 - src.models.climate_pipeline - INFO - Init: cohere client ready in 0.02s
2025-08-18 09:23:56,771 - src.models.climate_pipeline - INFO - âœ“ Climate Query Pipeline initialized (eager heavy-init)
2025-08-18 09:23:56,771 - src.webui.api.main - INFO - âœ… Climate pipeline initialized (prewarming in background)
2025-08-18 09:23:56,771 - src.webui.api.main - INFO - âœ… Conversation parser initialized
2025-08-18 09:23:56,771 - src.webui.api.main - INFO - âœ… Language router initialized
2025-08-18 09:23:56,771 - src.models.redis_cache - INFO - Initializing Redis connection to localhost:6379 (SSL: False)
2025-08-18 09:23:56,772 - src.models.redis_cache - INFO - âœ“ Redis connection test successful to localhost
2025-08-18 09:23:56,772 - src.models.redis_cache - INFO - âœ“ Redis cache initialized for localhost
2025-08-18 09:23:56,772 - src.webui.api.main - INFO - âœ… Redis cache initialized
2025-08-18 09:23:56,772 - src.webui.api.main - INFO - ðŸŽ‰ All components initialized successfully!
2025-08-18 09:23:56,772 - src.webui.api.main - INFO - ðŸ”¥ Starting background pipeline prewarming...
2025-08-18 09:23:56,772 - src.models.climate_pipeline - INFO - Prewarm: starting heavy component initialization
2025-08-18 09:23:56,772 - src.models.climate_pipeline - INFO - Prewarm: embeddings ready in 0.00s
2025-08-18 09:23:56,772 - src.models.climate_pipeline - INFO - Prewarming embed model...
You're using a XLMRobertaTokenizerFast tokenizer. Please note that with a fast tokenizer, using the `__call__` method is faster than using a method to encode the text followed by a call to the `pad` method to get a padded encoding.
2025-08-18 09:23:58,447 - src.models.climate_pipeline - INFO - Prewarm encode took 1674ms
2025-08-18 09:23:58,503 - src.models.climate_pipeline - INFO - Second prewarm took 56ms
2025-08-18 09:23:58,503 - src.models.climate_pipeline - INFO - Prewarm: pinecone ready in 0.00s
2025-08-18 09:23:58,503 - src.models.climate_pipeline - INFO - Prewarm: cohere client ready in 0.00s
2025-08-18 09:23:58,503 - src.models.climate_pipeline - INFO - Prewarm complete in 1.73s
2025-08-18 09:23:58,503 - src.webui.api.main - INFO - âœ… Background prewarming completed
INFO:     Application startup complete.
2025-08-18 09:23:59,915 - src.webui.api.main - INFO - REQUEST GET /favicon.ico status=200 time=0.001s id=req_1755523439914 ip=127.0.0.1
INFO:     127.0.0.1:64462 - "GET /favicon.ico HTTP/1.1" 200 OK
2025-08-18 09:24:05,449 - src.webui.api.main - INFO - REQUEST GET /Logo.png status=200 time=0.000s id=req_1755523445448 ip=127.0.0.1
INFO:     127.0.0.1:64514 - "GET /Logo.png HTTP/1.1" 200 OK
2025-08-18 09:24:09,324 - src.webui.api.main - INFO - REQUEST GET /tree.ico status=200 time=0.000s id=req_1755523449323 ip=127.0.0.1
INFO:     127.0.0.1:64565 - "GET /tree.ico HTTP/1.1" 200 OK
2025-08-18 09:24:19,835 - src.webui.api.main - INFO - REQUEST GET / status=200 time=0.006s id=req_1755523459830 ip=127.0.0.1
INFO:     127.0.0.1:64620 - "GET / HTTP/1.1" 200 OK
2025-08-18 09:24:19,918 - src.webui.api.main - INFO - REQUEST GET /_next/static/css/6a0301ad8f3fc89c.css status=304 time=0.011s id=req_1755523459907 ip=127.0.0.1
INFO:     127.0.0.1:64620 - "GET /_next/static/css/6a0301ad8f3fc89c.css HTTP/1.1" 304 Not Modified
2025-08-18 09:24:19,921 - src.webui.api.main - INFO - REQUEST GET /_next/static/chunks/webpack-d07aa1820c2d0bc5.js status=304 time=0.013s id=req_1755523459908 ip=127.0.0.1
INFO:     127.0.0.1:64622 - "GET /_next/static/chunks/webpack-d07aa1820c2d0bc5.js HTTP/1.1" 304 Not Modified
2025-08-18 09:24:19,923 - src.webui.api.main - INFO - REQUEST GET /_next/static/chunks/4bd1b696-33b6b33646730f64.js status=304 time=0.001s id=req_1755523459922 ip=127.0.0.1
INFO:     127.0.0.1:64620 - "GET /_next/static/chunks/4bd1b696-33b6b33646730f64.js HTTP/1.1" 304 Not Modified
2025-08-18 09:24:19,970 - src.webui.api.main - INFO - REQUEST GET /_next/static/chunks/684-8910cd79ee453c86.js status=304 time=0.006s id=req_1755523459964 ip=127.0.0.1
INFO:     127.0.0.1:64622 - "GET /_next/static/chunks/684-8910cd79ee453c86.js HTTP/1.1" 304 Not Modified
2025-08-18 09:24:19,972 - src.webui.api.main - INFO - REQUEST GET /_next/static/chunks/965-866ebecf1b7c3c15.js status=304 time=0.008s id=req_1755523459963 ip=127.0.0.1
INFO:     127.0.0.1:64620 - "GET /_next/static/chunks/965-866ebecf1b7c3c15.js HTTP/1.1" 304 Not Modified
2025-08-18 09:24:19,973 - src.webui.api.main - INFO - REQUEST GET /_next/static/chunks/842-34a16da302acde96.js status=304 time=0.008s id=req_1755523459965 ip=127.0.0.1
INFO:     127.0.0.1:64627 - "GET /_next/static/chunks/842-34a16da302acde96.js HTTP/1.1" 304 Not Modified
2025-08-18 09:24:19,974 - src.webui.api.main - INFO - REQUEST GET /_next/static/chunks/main-app-6cc5c468793162d1.js status=304 time=0.009s id=req_1755523459965 ip=127.0.0.1
INFO:     127.0.0.1:64625 - "GET /_next/static/chunks/main-app-6cc5c468793162d1.js HTTP/1.1" 304 Not Modified
2025-08-18 09:24:19,977 - src.webui.api.main - INFO - REQUEST GET /wallpaper.svg status=200 time=0.006s id=req_1755523459971 ip=127.0.0.1
INFO:     127.0.0.1:64622 - "GET /wallpaper.svg HTTP/1.1" 200 OK
2025-08-18 09:24:19,980 - src.webui.api.main - INFO - REQUEST GET /_next/static/chunks/app/layout-a46b70aa6dd1f37c.js status=304 time=0.015s id=req_1755523459965 ip=127.0.0.1
INFO:     127.0.0.1:64630 - "GET /_next/static/chunks/app/layout-a46b70aa6dd1f37c.js HTTP/1.1" 304 Not Modified
2025-08-18 09:24:19,984 - src.webui.api.main - INFO - REQUEST GET /_next/static/chunks/app/page-337997de23cd7183.js status=304 time=0.019s id=req_1755523459965 ip=127.0.0.1
INFO:     127.0.0.1:64628 - "GET /_next/static/chunks/app/page-337997de23cd7183.js HTTP/1.1" 304 Not Modified
2025-08-18 09:24:20,047 - src.webui.api.main - INFO - REQUEST GET /_next/static/media/Logo.7d7f1c46.png status=304 time=0.001s id=req_1755523460046 ip=127.0.0.1
INFO:     127.0.0.1:64622 - "GET /_next/static/media/Logo.7d7f1c46.png HTTP/1.1" 304 Not Modified
2025-08-18 09:24:20,065 - src.webui.api.main - INFO - REQUEST GET /favicon.ico status=200 time=0.002s id=req_1755523460063 ip=127.0.0.1
INFO:     127.0.0.1:64622 - "GET /favicon.ico HTTP/1.1" 200 OK
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-08-18 09:26:22,609 - src.webui.api.main - INFO - ðŸ§¹ Cleaning up pipeline...
2025-08-18 09:26:22,610 - src.models.climate_pipeline - INFO - âœ“ Nova model client closed
2025-08-18 09:26:22,611 - src.models.climate_pipeline - INFO - âœ“ Cohere client closed
2025-08-18 09:26:22,611 - src.models.redis_cache - INFO - Initializing Redis connection to localhost:6379 (SSL: False)
2025-08-18 09:26:22,634 - src.models.redis_cache - INFO - âœ“ Redis connection test successful to localhost
2025-08-18 09:26:22,634 - src.models.redis_cache - INFO - âœ“ Redis cache initialized for localhost
2025-08-18 09:26:22,635 - src.models.redis_cache - INFO - Redis connection closed
2025-08-18 09:26:22,635 - src.models.climate_pipeline - INFO - âœ“ Redis client closed
2025-08-18 09:26:22,635 - src.models.climate_pipeline - INFO - Pipeline cleanup completed successfully
2025-08-18 09:26:22,635 - src.webui.api.main - INFO - âœ… Cleanup completed
INFO:     Application shutdown complete.
INFO:     Finished server process [50301]
INFO:     Stopping reloader process [50285]
/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/multiprocessing/resource_tracker.py:254: UserWarning: resource_tracker: There appear to be 1 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
